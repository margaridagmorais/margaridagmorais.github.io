<!DOCTYPE html> 
<html> 

<head> 
    <title> export to PDF </title> 
    <script type="text/javascript"> 

        printfun = function(){ 
            

            //var url = window.parent.location.pathname; 
        
            var srcurl = 'https://tableau.hadoop.brisa.pt/#/site/BOM/views/TrfegoSemanal_v2/BRISARelatrioSemanal.pdf';

            
                var link = document.createElement("a"); 
                // document.body.appendChild(link);
                // link.href = (window.URL || window.webkitURL).createObjectURL(req.response);
                link.href = srcurl;
                link.download= 'Relatorio_Semanal'; 
                document.body.appendChild(link);
                link.click(); 
                document.body.removeChild(link);
                } 
    

        function GetParameterValues(param) {   
            var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');   
            for (var i = 0; i < url.length; i++) {   
                var urlparam = url[i].split('=');   
                if (urlparam[0] == param) {   
                    return urlparam[1];   
                }   
            }   
        }   

        getTableau = function() { 
            return parent.parent.tableau; 
        } 

        getCurrentViz = function() { 
                        return getTableau().VizManager.getVizs()[0]; 
        } 

        getCurrentWorkbook = function() { 
                        return getCurrentViz().getWorkbook(); 
        } 

        function initViz() { 
                        tableau = getTableau(); 
                        workbook = getCurrentWorkbook(); 
                        viz = getCurrentViz(); 
        } 
        </script> 
</head> 
<body> 
    <button id="myBtn" onclick="printfun();">PDF</button> 
</body> 
</html>

